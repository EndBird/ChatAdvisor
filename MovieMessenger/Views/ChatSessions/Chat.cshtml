@model IEnumerable<MovieMessenger.Models.ChatSession>

@{
    ViewData["Title"] = "Chat";
}

<h2>Chat</h2>
<body>
    <div id="ChatSession" style="border-color:blue; width:150px;height:150px;overflow:auto;padding:5px;">

    </div>

    <input name="message" id="message" type="text" /><button onclick="sendMessage()" id="SendMessage" type="submit">Send</button>
    <script>
        
        @foreach (var item in Model) {
            @Html.Raw("var initChat") = item.Chat;
                }
        function sendMessage() {
            document.getElementById("ChatSession").innerHTML = document.getElementById("ChatSession").innerHTML + "<br>" + "@ViewData["user"]" + ": "+ document.getElementById("message").value;
            document.getElementById("message").value= "";
            var element = document.getElementById("ChatSession");
            element.scrollTop = element.scrollHeight - element.clientHeight;

        }

    </script>

    

</body>
